(()=>{"use strict";var e,t,n,o,c,r,a,u,l,i,s,d,f;(function(e){var t=document.querySelector("#timer-days"),n=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds");function r(e){return e<10?"0"+e:e}!function e(){var a,u,l,i,s=(a=(new Date("15 january 2021").getTime()-(new Date).getTime())/1e3,u=Math.floor(a%60),l=Math.floor(a/60%60),i=Math.floor(a/60/60)%24,{timeRemaining:a,day:Math.floor(a/60/60/24),hours:i,minutes:l,seconds:u});t.textContent=r(s.day),n.textContent=r(s.hours),o.textContent=r(s.minutes),c.textContent=r(s.seconds),s.timeRemaining>0?setTimeout(e,1e3):(t.textContent="00",n.textContent="00",o.textContent="00",c.textContent="00")}()})(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul a")),n=document.querySelector("main");document.body.addEventListener("click",(function(e){var t=e.target;(t.closest(".menu")||t.closest(".close-btn"))&&o()})),n.addEventListener("click",(function(t){t.target.closest("main")&&e.classList.remove("active-menu")}));var o=function(){e.classList.toggle("active-menu")};t.forEach((function(e){e.addEventListener("click",o)}))}(),f=document.querySelector(".popup"),document.querySelectorAll(".popup-btn").forEach((function(e){e.addEventListener("click",(function(){f.style.display="block"}))})),f.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?f.style.display="none":(t=t.closest(".popup-content"))||(f.style.display="none")})),i=document.querySelector(".service-header"),s=i.querySelectorAll(".service-header-tab"),d=document.querySelectorAll(".service-tab"),i.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&s.forEach((function(e,n){e===t&&function(e){for(var t=0;t<d.length;t++)e===t?(s[t].classList.add("active"),d[t].classList.remove("d-none")):(s[t].classList.remove("active"),d[t].classList.add("d-none"))}(n)}))})),e=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),t=document.querySelectorAll(".dot"),n=document.querySelector(".portfolio-content"),document.querySelector(".portfolio-dots"),o=0,c="",r=function(e,t,n){e[t].classList.remove(n)},a=function(e,t,n){e[t].classList.add(n)},u=function(){r(e,o,"portfolio-item-active"),r(t,o,"dot-active"),++o>=e.length&&(o=0),a(e,o,"portfolio-item-active"),a(t,o,"dot-active")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;c=setInterval(u,e)},n.addEventListener("click",(function(n){n.preventDefault();var c=n.target;c.matches(".portfolio-btn, .dot")&&(r(e,o,"portfolio-item-active"),r(t,o,"dot-active"),c.matches("#arrow-right")?o++:c.matches("#arrow-left")?o--:c.matches(".dot")&&t.forEach((function(e,t){e===c&&(o=t)})),o>=e.length&&(o=0),o<0&&(o=e.length-1),a(e,o,"portfolio-item-active"),a(t,o,"dot-active"))})),n.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l()})),l(1500),document.querySelector(".command").addEventListener("mouseover",(function(e){var t=e.target;if(t.classList.contains("command__photo")){var n=t.src;t.src=t.dataset.img,t.addEventListener("mouseout",(function(e){t.src=n}))}})),document.querySelectorAll(".calc-square, .calc-count, .calc-day").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))})),document.querySelectorAll(".form-name").forEach((function(e){e.addEventListener("input",(function(){console.log(e.value),e.value=e.value.replace(/[a-zA-Z]*$/g,"")}))})),document.querySelectorAll(".form-phone").forEach((function(e){e.addEventListener("input",(function(){console.log(e.value),e.value=e.value.replace(/[a-zA-Zа-яА-Я]*$/g,"")}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),a=document.getElementById("total"),u=function(){var t=0,u=1,l=1,i=n.options[n.selectedIndex].value,s=+o.value;""===i&&(o.value="",c.value="",r.value=""),r.value>1&&(u+=(r.value-1)/10),c&&c.value<5?l*=2:c&&c.value<10&&(l*=1.5),t=i&&s?e*i*s*u*l:0,a.textContent=t.toFixed(2)};t.addEventListener("change",(function(e){var t=e.target;t!==n&&t!==o&&t!==c&&t!==r||u()}))}(100),function(){var e="Что-то пошло не так!",t="Загрузка...",n="Спасибо! Мы скоро с Вами свяжемся!",o=document.getElementById("form1"),c=document.getElementById("form3"),r=document.getElementById("form2"),a=document.createElement("div");a.style.cssText="font-size:2rem; color: #ffffff";var u=function(e){e.querySelectorAll("input").forEach((function(e){e.value=""})),setTimeout((function(){a.textContent=""}),3e3)};o.addEventListener("submit",(function(c){c.preventDefault(),o.appendChild(a);var r=new FormData(o),i={};r.forEach((function(e,t){i[t]=e})),a.textContent=t,l(i).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e),a.textContent=n,u(o)})).catch((function(t){a.textContent=e,console.error(t),u(o)}))})),c.addEventListener("submit",(function(o){o.preventDefault(),c.appendChild(a);var r=new FormData(c),i={};r.forEach((function(e,t){i[t]=e})),a.textContent=t,l(i).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e),a.textContent=n,u(c),setInterval((function(){c.closest(".popup").style.display="none"}),2e3)})).catch((function(t){a.textContent=e,console.error(t),u(c)}))})),r.addEventListener("submit",(function(o){o.preventDefault(),r.appendChild(a);var c=new FormData(r),i={};c.forEach((function(e,t){i[t]=e})),a.textContent=t,l(i).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e),a.textContent=n,u(r)})).catch((function(t){a.textContent=e,console.error(t),u(r)}))}));var l=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();