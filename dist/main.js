(()=>{"use strict";(function(e){let t=document.querySelector("#timer-days"),o=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds");function r(e){return e<10?"0"+e:e}!function e(){let l=function(){let e=(new Date("15 january 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),o=Math.floor(e/60%60),n=Math.floor(e/60/60)%24;return{timeRemaining:e,day:Math.floor(e/60/60/24),hours:n,minutes:o,seconds:t}}();t.textContent=r(l.day),o.textContent=r(l.hours),n.textContent=r(l.minutes),c.textContent=r(l.seconds),l.timeRemaining>0?setTimeout(e,1e3):(t.textContent="00",o.textContent="00",n.textContent="00",c.textContent="00")}()})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul>li"));document.body.addEventListener("click",(e=>{let t=e.target;(t.closest(".menu")||t.closest(".close-btn"))&&o()}));const o=()=>{e.classList.toggle("active-menu")};t.forEach((e=>{e.addEventListener("click",o)}))})(),(()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block"}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,c)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(c)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelectorAll(".dot")),o=document.querySelector(".portfolio-content");document.querySelector(".portfolio-dots");let n=0,c="";const r=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},a=()=>{r(e,n,"portfolio-item-active"),r(t,n,"dot-active"),n++,n>=e.length&&(n=0),l(e,n,"portfolio-item-active"),l(t,n,"dot-active")},s=(e=3e3)=>{c=setInterval(a,e)};o.addEventListener("click",(o=>{o.preventDefault();let c=o.target;c.matches(".portfolio-btn, .dot")&&(r(e,n,"portfolio-item-active"),r(t,n,"dot-active"),c.matches("#arrow-right")?n++:c.matches("#arrow-left")?n--:c.matches(".dot")&&t.forEach(((e,t)=>{e===c&&(n=t)})),n>=e.length&&(n=0),n<0&&(n=e.length-1),l(e,n,"portfolio-item-active"),l(t,n,"dot-active"))})),o.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),o.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s(1500)})(),document.querySelector(".command").addEventListener("mouseover",(e=>{let t=e.target;if(t.classList.contains("command__photo")){let e=t.src;t.src=t.dataset.img,t.addEventListener("mouseout",(o=>{t.src=e}))}})),document.querySelectorAll(".calc-square, .calc-count, .calc-day").forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/g,"")}))})),document.querySelectorAll(".form-name").forEach((e=>{e.addEventListener("input",(()=>{console.log(e.value),e.value=e.value.replace(/[a-zA-Z]*$/g,"")}))})),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),l=document.getElementById("total");t.addEventListener("change",(t=>{const a=t.target;a!==o&&a!==n&&a!==c&&a!==r||(()=>{let t=0,a=1,s=1;const u=o.options[o.selectedIndex].value,d=+n.value;""===u&&(n.value="",c.value="",r.value=""),r.value>1&&(a+=(r.value-1)/10),c&&c.value<5?s*=2:c&&c.value<10&&(s*=1.5),t=u&&d?e*u*d*a*s:0,l.textContent=t.toFixed(2)})()}))})(100),(()=>{const e="Что-то пошло не так!",t="Загрузка...",o="Спасибо! Мы скоро с Вами свяжемся!",n=document.getElementById("form1"),c=document.getElementById("form2"),r=document.getElementById("form3"),l=document.createElement("div");l.style.cssText="font-size:2rem;";const a=e=>{e.querySelectorAll("input").forEach((e=>{e.value=""})),setTimeout((()=>{l.textContent=""}),5e3)};n.addEventListener("submit",(c=>{c.preventDefault(),n.appendChild(l);const r=new FormData(n);let u={};r.forEach(((e,t)=>{u[t]=e})),l.textContent=t,s(u).then((e=>{if(200!==e.status)throw new Error("status network not 200");console.log(e),l.textContent=o,a(n)})).catch((t=>{l.textContent=e,console.error(t),a(n)}))})),c.addEventListener("submit",(n=>{n.preventDefault(),c.appendChild(l);const r=new FormData(c);let u={};r.forEach(((e,t)=>{u[t]=e})),l.textContent=t,s(u).then((e=>{if(200!==e.status)throw new Error("status network not 200");console.log(e),l.textContent=o,a(c)})).catch((t=>{l.textContent=e,console.error(t),a(c)}))})),r.addEventListener("submit",(c=>{c.preventDefault(),n.appendChild(l);const u=new FormData(r);let d={};u.forEach(((e,t)=>{d[t]=e})),l.textContent=t,s(d).then((e=>{if(200!==e.status)throw new Error("status network not 200");console.log(e),l.textContent=o,a(r)})).catch((t=>{l.textContent=e,console.error(t),a(r)}))}));const s=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();