(()=>{"use strict";(function(e){let t=document.querySelector("#timer-days"),o=document.querySelector("#timer-hours"),c=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function r(e){return e<10?"0"+e:e}!function e(){let l=function(){let e=(new Date("31 december 2020").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),o=Math.floor(e/60%60),c=Math.floor(e/60/60)%24;return{timeRemaining:e,day:Math.floor(e/60/60/24),hours:c,minutes:o,seconds:t}}();t.textContent=r(l.day),o.textContent=r(l.hours),c.textContent=r(l.minutes),n.textContent=r(l.seconds),l.timeRemaining>0?setTimeout(e,1e3):(t.textContent="00",o.textContent="00",c.textContent="00",n.textContent="00")}()})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),e.querySelectorAll("ul>li"));document.body.addEventListener("click",(e=>{let t=e.target;(t.closest(".menu")||t.closest(".close-btn"))&&o()}));const o=()=>{e.classList.toggle("active-menu")};t.forEach((e=>{e.addEventListener("click",o)}))})(),(()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block"}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let c=e.target;c=c.closest(".service-header-tab"),c&&t.forEach(((e,n)=>{e===c&&(e=>{for(let c=0;c<o.length;c++)e===c?(t[c].classList.add("active"),o[c].classList.remove("d-none")):(t[c].classList.remove("active"),o[c].classList.add("d-none"))})(n)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelectorAll(".dot")),o=document.querySelector(".portfolio-content");document.querySelector(".portfolio-dots");let c=0,n="";const r=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},s=()=>{r(e,c,"portfolio-item-active"),r(t,c,"dot-active"),c++,c>=e.length&&(c=0),l(e,c,"portfolio-item-active"),l(t,c,"dot-active")},a=(e=3e3)=>{n=setInterval(s,e)};o.addEventListener("click",(o=>{o.preventDefault();let n=o.target;n.matches(".portfolio-btn, .dot")&&(r(e,c,"portfolio-item-active"),r(t,c,"dot-active"),n.matches("#arrow-right")?c++:n.matches("#arrow-left")?c--:n.matches(".dot")&&t.forEach(((e,t)=>{e===n&&(c=t)})),c>=e.length&&(c=0),c<0&&(c=e.length-1),l(e,c,"portfolio-item-active"),l(t,c,"dot-active"))})),o.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),o.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&a()})),a(1500)})(),document.querySelector(".command").addEventListener("mouseover",(e=>{let t=e.target;if(t.classList.contains("command__photo")){let e=t.src;t.src=t.dataset.img,t.addEventListener("mouseout",(o=>{t.src=e}))}})),document.querySelectorAll(".calc-square, .calc-count, .calc-day").forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/g,"")}))})),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),c=document.querySelector(".calc-square"),n=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),l=document.getElementById("total");t.addEventListener("change",(t=>{const s=t.target;s!==o&&s!==c&&s!==n&&s!==r||(()=>{let t=0,s=1,a=1;const d=o.options[o.selectedIndex].value,i=+c.value;r.value>1&&(s+=(r.value-1)/10),n&&n.value<5?a*=2:n&&n.value<10&&(a*=1.5),t=d&&i?e*d*i*s*a:0,l.textContent=t})()}))})(100),(()=>{const e=document.getElementById("form1"),t=document.createElement("div");t.style.cssText="font-size:2rem;",e.addEventListener("submit",(c=>{c.preventDefault(),e.appendChild(t);const n=new FormData(e);let r={};n.forEach(((e,t)=>{r[t]=e})),t.textContent="Загрузка...",o(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");console.log(e),t.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).catch((e=>{t.textContent="Что-то пошло не так!",console.error(e)}))}));const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();